diff --git a/Makefile b/Makefile
index d276c24..6fe569a 100644
--- a/Makefile
+++ b/Makefile
@@ -5,26 +5,15 @@
 PREFIX ?= /usr/local
 BINDIR = $(PREFIX)/bin
 
-CC = gcc
-CFLAGS = -Wall -Wextra -O3 -ffast-math -std=c11 -pthread -D_GNU_SOURCE -D_DEFAULT_SOURCE \
-         -flto
-LDFLAGS = -pthread -flto
+CC ?= gcc
+BASE_CFLAGS += -O1 -fno-tree-vectorize -fno-tree-slp-vectorize -fno-fast-math -D_GNU_SOURCE -D_DEFAULT_SOURCE
+CFLAGS += $(BASE_CFLAGS)
+
+LDFLAGS += $(BASE_LDFLAGS)
 
 # Detect architecture for SIMD flags (basic example)
 ARCH := $(shell uname -m)
 
-ifeq ($(ARCH), x86_64)
-    # Check for AVX2 support (requires CPU supporting it)
-    # This check might need refinement based on specific CPU features
-    # For simplicity, we'll enable SSE4.2 by default on x86_64
-    CFLAGS += -msse4.2
-    # To enable AVX2, uncomment the line below and ensure your CPU supports it
-    # CFLAGS += -mavx2
-else ifeq ($(ARCH), arm64)
-    # Enable NEON for arm64 (Apple Silicon, etc.)
-    CFLAGS += -D__ARM_NEON
-    # Note: GCC might enable NEON automatically on arm64, but explicit flag is safer
-endif
 
 # Source files
 SRCS = krep.c aho_corasick.c
